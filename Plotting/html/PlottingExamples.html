<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      -->
<title>PlottingExamples</title>
<meta name="generator" content="MATLAB 24.1">
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
<meta name="DC.date" content="2024-10-03">
<meta name="DC.source" content="PlottingExamples.m">
<style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; }

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }
span.typesection { color:#A0522D }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style>
</head>
<body>
<div class="content">
<h1></h1>
<!--introduction-->
<!--/introduction-->
<h2>Contents</h2>
<div>
<ul>
<li>
<a href="#1">Example scripts for plotting functions</a>
</li>
<li>
<a href="#2">1. SetFont</a>
</li>
<li>
<a href="#3">2. GetUnicodeChar</a>
</li>
<li>
<a href="#4">3. AlphaLine</a>
</li>
<li>
<a href="#5">4. Swarm</a>
</li>
<li>
<a href="#6">5. ColorText</a>
</li>
<li>
<a href="#7">5. GetAxisPosition</a>
</li>
</ul>
</div>
<h2 id="1">Example scripts for plotting functions</h2>
<h2 id="2">1. SetFont</h2>
<p>This function allows for globally setting all typefaces and fontsizes in one call. Note that the SetFont must be run at the beginning of the script (or in this case before the axes are created)</p>
<pre class="codeinput">clf;
set(gcf, <span class="string">'Units'</span>, <span class="string">'inches'</span>, <span class="string">'Position'</span>, [3 3 8 3]);

SetFont(<span class="string">'Arial'</span>, 12)
subplot(1,3,1); hold <span class="string">on</span>
    plot([1:10], [1:10], <span class="string">'LineWidth'</span>, 2)
    title(<span class="string">'Arial is fine'</span>)

SetFont(<span class="string">'Papyrus'</span>, 15)
subplot(1,3,2); hold <span class="string">on</span>
    plot([1:10], [1:10], <span class="string">'LineWidth'</span>, 2)
    title(<span class="string">'Papyrus is not'</span>)

SetFont(<span class="string">'Monospaced'</span>, 9)
subplot(1,3,3); hold <span class="string">on</span>
    plot([1:10], [1:10], <span class="string">'LineWidth'</span>, 2)
    title(<span class="string">'Serifs are bad'</span>)
</pre>
<img vspace="5" hspace="5" src="PlottingExamples_01.png" alt=""> <h2 id="3">2. GetUnicodeChar</h2>
<p>Many figures require Greek letters to be used as notation (eg. mu, sigma) This function allows for them to be easily made and in some cases will be supported by the typeface used</p>
<pre class="codeinput">fprintf(<span class="string">'The string "mu" produces %s, while "Mu" produces %s\n'</span>, GetUnicodeChar(<span class="string">'mu'</span>), GetUnicodeChar(<span class="string">'Mu'</span>))
</pre>
<pre class="codeoutput">The string "mu" produces μ, while "Mu" produces Μ
</pre>
<h2 id="4">3. AlphaLine</h2>
<p>Quite simply the standard stalks for error bars are ugly, don't use them.</p>
<pre class="codeinput">SetFont(<span class="string">'Arial'</span>, 12)
clf;
set(gcf, <span class="string">'Units'</span>, <span class="string">'inches'</span>, <span class="string">'Position'</span>, [3 3 8 4]);


x = [1:20];
y = repmat([1:20], [100,1]) + randn([100,20])*2;
y_mean = mean(y,1);
err = std(y,1,1) / sqrt(5);

subplot(2,3,1);
errorbar(x,y_mean,err)
title(<span class="string">'Absolutely Not'</span>)

subplot(2,3,2);
    AlphaLine(x,y,lines(1))
    title(<span class="string">'So Much Better'</span>)

subplot(2,3,3);
    AlphaLine(x,y,lines(1), <span class="string">'ErrorType'</span>, <span class="string">'Percentile'</span>, <span class="string">'Percentiles'</span>, [5 95])
    title(<span class="string">'Easily control error bounds'</span>)
    y(:,[5,10,11]) = NaN;

subplot(2,3,4);
    AlphaLine(x,y,lines(1), <span class="string">'ErrorType'</span>, <span class="string">'Percentile'</span>, <span class="string">'Percentiles'</span>, [5 95])
    title(<span class="string">'Will warn if NaNs are present'</span>)

subplot(2,3,5);
    AlphaLine(x,y,lines(1), <span class="string">'ErrorType'</span>, <span class="string">'Percentile'</span>, <span class="string">'Percentiles'</span>, [5 95], <span class="string">'IgnoreNaN'</span>, 1)
    title(<span class="string">'You can ignore them'</span>)

subplot(2,3,6);
    AlphaLine(x,y,lines(1), <span class="string">'ErrorType'</span>, <span class="string">'Percentile'</span>, <span class="string">'Percentiles'</span>, [5 95], <span class="string">'IgnoreNaN'</span>, 2)
    title(<span class="string">'Or acknowledge them'</span>)
</pre>
<pre class="codeoutput">Warning: NaNs in Y-array break the fill function.
Explore the "IgnoreNan" option. 
</pre>
<img vspace="5" hspace="5" src="PlottingExamples_02.png" alt=""> <h2 id="5">4. Swarm</h2>
<p>A nicer method of showing value distribution of categories when not using a histogram or CDF</p>
<pre class="codeinput">SetFont(<span class="string">'Arial'</span>, 12)
colors = lines(10);
y = randn([100,1]) + 5;

clf;
set(gcf, <span class="string">'Units'</span>, <span class="string">'inches'</span>, <span class="string">'Position'</span>, [3 3 8 8])
subplot(3,1,1); hold <span class="string">on</span>
    title(<span class="string">'Swarm + Backgrounds'</span>)
    <span class="comment">% The default look. Takes the x value, a vector of y values, and the color</span>
    Swarm(1, y, colors(1,:))
    <span class="comment">% The function also allows for a variety of background plots</span>
    Swarm(2, y, colors(2,:), <span class="string">'DistributionStyle'</span>, <span class="string">'Bar'</span>)
    Swarm(3, y, colors(3,:), <span class="string">'DS'</span>, <span class="string">'Violin'</span>) <span class="comment">% There are shorthands for each argument</span>
    Swarm(4, y, colors(4,:), <span class="string">'DS'</span>, <span class="string">'Box'</span>)
    Swarm(5, y, colors(5,:), <span class="string">'DS'</span>, <span class="string">'Stacks'</span>)

    set(gca, <span class="string">'XTick'</span>, [1:5], <span class="string">'XLim'</span>, [0.5 5.5],<span class="keyword">...</span>
             <span class="string">'XTickLabel'</span>, {<span class="string">'Default'</span>, <span class="string">'+Bar'</span>, <span class="string">'+Violin'</span>, <span class="string">'+Box'</span>, <span class="string">'+Stacks'</span>}, <span class="keyword">...</span>
             <span class="string">'YLim'</span>, [0 10])

subplot(3,1,2); hold <span class="string">on</span>
    title(<span class="string">'Background Only'</span>)
    Swarm(1, y, colors(1,:), <span class="string">'SwarmPointLimit'</span>, 0) <span class="comment">% This won't work</span>
    Swarm(2, y, colors(2,:), <span class="string">'DistributionStyle'</span>, <span class="string">'Bar'</span>, <span class="string">'SPL'</span>, 0)
    Swarm(3, y, colors(3,:), <span class="string">'DistributionStyle'</span>, <span class="string">'Violin'</span>, <span class="string">'SPL'</span>, 0)
    Swarm(4, y, colors(4,:), <span class="string">'DistributionStyle'</span>, <span class="string">'Box'</span>, <span class="string">'SPL'</span>, 0)
    Swarm(5, y, colors(5,:), <span class="string">'DistributionStyle'</span>, <span class="string">'Stacks'</span>, <span class="string">'SPL'</span>, 0)

    set(gca, <span class="string">'XTick'</span>, [1:5],  <span class="string">'XLim'</span>, [0.5 5.5], <span class="keyword">...</span>
             <span class="string">'XTickLabel'</span>, {<span class="string">'Default'</span>, <span class="string">'Bar'</span>, <span class="string">'Violin'</span>, <span class="string">'Box'</span>, <span class="string">'Stacks'</span>}, <span class="keyword">...</span>
             <span class="string">'YLim'</span>, [0 10])

subplot(3,1,3); hold <span class="string">on</span>
    title(<span class="string">'Other Options'</span>)
    Swarm(1, y, <span class="string">'CenterColor'</span>, [1 .6 .6], <span class="string">'DistributionColor'</span>, [.6 1 .6], <span class="string">'SwarmColor'</span>, [.6 .6 1], <span class="string">'DS'</span>, <span class="string">'Violin'</span>) <span class="comment">% If you hate your eyes</span>
    Swarm(2, y, colors(2,:), <span class="string">'DistributionStyle'</span>, <span class="string">'Bar'</span>, <span class="string">'DistributionWidth'</span>, 0.5, <span class="string">'ErrorWhiskers'</span>, true, <span class="string">'DistributionWhiskerRatio'</span>, 1)
    Swarm(3, y, colors(3,:), <span class="string">'SwarmColor'</span>, rand(length(y), 3))
    Swarm(4, y, colors(4,:), <span class="string">'DistributionStyle'</span>, <span class="string">'Bar'</span>, <span class="string">'HashStyle'</span>, <span class="string">'/'</span>, <span class="string">'HashAngle'</span>, 80)
    Swarm(5, y, colors(5,:), <span class="string">'DistributionStyle'</span>, <span class="string">'Bar'</span>, <span class="string">'HashStyle'</span>, <span class="string">'#'</span>, <span class="string">'HashAngle'</span>, 80)

    set(gca, <span class="string">'XTick'</span>, [1:5],  <span class="string">'XLim'</span>, [0.5 5.5], <span class="keyword">...</span>
             <span class="string">'XTickLabel'</span>, {<span class="string">'Colors'</span>, <span class="string">'Widths'</span>, <span class="string">'SwarmColors'</span>, <span class="string">'Hashing'</span>, <span class="string">'CrossHatch'</span>}, <span class="keyword">...</span>
             <span class="string">'YLim'</span>, [0 10])
</pre>
<img vspace="5" hspace="5" src="PlottingExamples_03.png" alt=""> <h2 id="6">5. ColorText</h2>
<p>A convenient way of color coding text to replace legends</p>
<pre class="codeinput">clf;
set(gcf, <span class="string">'Units'</span>, <span class="string">'inches'</span>, <span class="string">'Position'</span>, [3 3 8 3]);

subplot(1,3,1); hold <span class="string">on</span>
    title(<span class="string">'The Matlab default'</span>)
    <span class="keyword">for</span> i = 1:3
        plot([1,5], [1,i])
    <span class="keyword">end</span>
    xlim([0 6]); ylim([0 4])
    legend <span class="string">1</span> <span class="string">2</span> <span class="string">3</span>
    yticks([0:4])

colors = lines(3);
subplot(1,3,2); hold <span class="string">on</span>
    title(<span class="string">'doesn''t work with AlphaLine'</span>)
    <span class="keyword">for</span> i = 1:3
        AlphaLine([1,5], [1,i], colors(i,:))
    <span class="keyword">end</span>
    xlim([0 6]); ylim([0 4])
    legend <span class="string">1</span> <span class="string">2</span> <span class="string">3</span>
    yticks([0:4])

subplot(1,3,3); hold <span class="string">on</span>
    title(<span class="string">'but it''s ugly so who cares'</span>)
    <span class="keyword">for</span> i = 1:3
        AlphaLine([1,5], [1,i], colors(i,:))
    <span class="keyword">end</span>
    xlim([0 6]); ylim([0 4])
    leg_text = ColorText({<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>}, colors);
    text(5,4, leg_text, <span class="string">'VerticalAlignment'</span>, <span class="string">'top'</span>,<span class="keyword">...</span>
        <span class="string">'HorizontalAlignment'</span>,<span class="string">'right'</span>)
    yticks([0:4])
</pre>
<img vspace="5" hspace="5" src="PlottingExamples_04.png" alt=""> <h2 id="7">5. GetAxisPosition</h2>
<p>Best way to ensure the ColorText legend is always in the same place</p>
<pre class="codeinput">data = randn(1000,1);

clf;
set(gcf, <span class="string">'Units'</span>, <span class="string">'inches'</span>, <span class="string">'Position'</span>, [3 3 8 2.5])
subplot(1,3,1); hold <span class="string">on</span>
    title(<span class="string">'A plot 1 unit wide'</span>)
    Swarm(.5, data, [1 .6 .6])
    set(gca, <span class="string">'XLim'</span>, [0 1], <span class="string">'YLim'</span>, [-5 5]) <span class="comment">% Limits must be set before GetAxisPosition is called</span>
    [x,y] = GetAxisPosition(gca, 5, 95);
    text(x,y, ColorText(<span class="string">'Legend'</span>, [1 .6 .6]), <span class="string">'VerticalAlignment'</span>, <span class="string">'top'</span>, <span class="string">'HorizontalAlignment'</span>, <span class="string">'left'</span>)

subplot(1,3,2); hold <span class="string">on</span>
    title(<span class="string">'A plot 10 units wide'</span>)
    <span class="keyword">for</span> i = .5:1:9.5
        Swarm(i, data, [1 .6 .6])
    <span class="keyword">end</span>
set(gca, <span class="string">'XLim'</span>, [-2 12], <span class="string">'YLim'</span>, [-5 5]) <span class="comment">% Limits must be set before GetAxisPosition is called</span>
[x,y] = GetAxisPosition(gca, 5, 95);
text(x,y, ColorText(<span class="string">'Legend'</span>, [1 .6 .6]), <span class="string">'VerticalAlignment'</span>, <span class="string">'top'</span>, <span class="string">'HorizontalAlignment'</span>, <span class="string">'left'</span>)

subplot(1,3,3); hold <span class="string">on</span>
    title(<span class="string">'legend in the bottom right'</span>)
    <span class="keyword">for</span> i = .5:1:9.5
        Swarm(i, data, [1 .6 .6])
    <span class="keyword">end</span>
set(gca, <span class="string">'XLim'</span>, [-2 12], <span class="string">'YLim'</span>, [-5 5]) <span class="comment">% Limits must be set before GetAxisPosition is called</span>
[x,y] = GetAxisPosition(gca, 95, 5);
text(x,y, ColorText(<span class="string">'Legend'</span>, [1 .6 .6]), <span class="string">'VerticalAlignment'</span>, <span class="string">'bottom'</span>, <span class="string">'HorizontalAlignment'</span>, <span class="string">'right'</span>)
</pre>
<img vspace="5" hspace="5" src="PlottingExamples_05.png" alt=""> <p class="footer">
<br>
<a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2024a</a>
<br>
</p>
</div>
<!--
##### SOURCE BEGIN #####
%%% Example scripts for plotting functions
%% 1. SetFont
% This function allows for globally setting all typefaces and fontsizes in one call.
% Note that the SetFont must be run at the beginning of the script (or in this case before
% the axes are created)
clf; 
set(gcf, 'Units', 'inches', 'Position', [3 3 8 3]);

SetFont('Arial', 12)
subplot(1,3,1); hold on
    plot([1:10], [1:10], 'LineWidth', 2)
    title('Arial is fine')

SetFont('Papyrus', 15)
subplot(1,3,2); hold on
    plot([1:10], [1:10], 'LineWidth', 2)
    title('Papyrus is not')

SetFont('Monospaced', 9)
subplot(1,3,3); hold on
    plot([1:10], [1:10], 'LineWidth', 2)
    title('Serifs are bad')



%% 2. GetUnicodeChar
% Many figures require Greek letters to be used as notation (eg. mu, sigma)
% This function allows for them to be easily made and in some cases will be supported by
% the typeface used
fprintf('The string "mu" produces %s, while "Mu" produces %s\n', GetUnicodeChar('mu'), GetUnicodeChar('Mu'))

%% 3. AlphaLine
% Quite simply the standard stalks for error bars are ugly, don't use them.
SetFont('Arial', 12)
clf; 
set(gcf, 'Units', 'inches', 'Position', [3 3 8 4]);


x = [1:20];
y = repmat([1:20], [100,1]) + randn([100,20])*2;
y_mean = mean(y,1);
err = std(y,1,1) / sqrt(5);

subplot(2,3,1);
errorbar(x,y_mean,err)
title('Absolutely Not')

subplot(2,3,2);
    AlphaLine(x,y,lines(1))
    title('So Much Better')

subplot(2,3,3);
    AlphaLine(x,y,lines(1), 'ErrorType', 'Percentile', 'Percentiles', [5 95])
    title('Easily control error bounds')
    y(:,[5,10,11]) = NaN;

subplot(2,3,4);
    AlphaLine(x,y,lines(1), 'ErrorType', 'Percentile', 'Percentiles', [5 95])
    title('Will warn if NaNs are present')

subplot(2,3,5);
    AlphaLine(x,y,lines(1), 'ErrorType', 'Percentile', 'Percentiles', [5 95], 'IgnoreNaN', 1)
    title('You can ignore them')

subplot(2,3,6);
    AlphaLine(x,y,lines(1), 'ErrorType', 'Percentile', 'Percentiles', [5 95], 'IgnoreNaN', 2)
    title('Or acknowledge them')

%% 4. Swarm
% A nicer method of showing value distribution of categories when not using a histogram or CDF
SetFont('Arial', 12)
colors = lines(10);
y = randn([100,1]) + 5;

clf;
set(gcf, 'Units', 'inches', 'Position', [3 3 8 8])
subplot(3,1,1); hold on
    title('Swarm + Backgrounds')
    % The default look. Takes the x value, a vector of y values, and the color
    Swarm(1, y, colors(1,:))
    % The function also allows for a variety of background plots
    Swarm(2, y, colors(2,:), 'DistributionStyle', 'Bar')
    Swarm(3, y, colors(3,:), 'DS', 'Violin') % There are shorthands for each argument
    Swarm(4, y, colors(4,:), 'DS', 'Box')
    Swarm(5, y, colors(5,:), 'DS', 'Stacks')
    
    set(gca, 'XTick', [1:5], 'XLim', [0.5 5.5],...
             'XTickLabel', {'Default', '+Bar', '+Violin', '+Box', '+Stacks'}, ...
             'YLim', [0 10])

subplot(3,1,2); hold on
    title('Background Only')
    Swarm(1, y, colors(1,:), 'SwarmPointLimit', 0) % This won't work
    Swarm(2, y, colors(2,:), 'DistributionStyle', 'Bar', 'SPL', 0)
    Swarm(3, y, colors(3,:), 'DistributionStyle', 'Violin', 'SPL', 0)
    Swarm(4, y, colors(4,:), 'DistributionStyle', 'Box', 'SPL', 0)
    Swarm(5, y, colors(5,:), 'DistributionStyle', 'Stacks', 'SPL', 0)
    
    set(gca, 'XTick', [1:5],  'XLim', [0.5 5.5], ...
             'XTickLabel', {'Default', 'Bar', 'Violin', 'Box', 'Stacks'}, ...
             'YLim', [0 10])

subplot(3,1,3); hold on
    title('Other Options')
    Swarm(1, y, 'CenterColor', [1 .6 .6], 'DistributionColor', [.6 1 .6], 'SwarmColor', [.6 .6 1], 'DS', 'Violin') % If you hate your eyes
    Swarm(2, y, colors(2,:), 'DistributionStyle', 'Bar', 'DistributionWidth', 0.5, 'ErrorWhiskers', true, 'DistributionWhiskerRatio', 1)
    Swarm(3, y, colors(3,:), 'SwarmColor', rand(length(y), 3))
    Swarm(4, y, colors(4,:), 'DistributionStyle', 'Bar', 'HashStyle', '/', 'HashAngle', 80)
    Swarm(5, y, colors(5,:), 'DistributionStyle', 'Bar', 'HashStyle', '#', 'HashAngle', 80)
    
    set(gca, 'XTick', [1:5],  'XLim', [0.5 5.5], ...
             'XTickLabel', {'Colors', 'Widths', 'SwarmColors', 'Hashing', 'CrossHatch'}, ...
             'YLim', [0 10])

%% 5. ColorText
% A convenient way of color coding text to replace legends
clf;
set(gcf, 'Units', 'inches', 'Position', [3 3 8 3]);

subplot(1,3,1); hold on
    title('The Matlab default')
    for i = 1:3
        plot([1,5], [1,i])
    end
    xlim([0 6]); ylim([0 4])
    legend 1 2 3
    yticks([0:4])

colors = lines(3);    
subplot(1,3,2); hold on
    title('doesn''t work with AlphaLine')
    for i = 1:3
        AlphaLine([1,5], [1,i], colors(i,:))
    end
    xlim([0 6]); ylim([0 4])
    legend 1 2 3
    yticks([0:4])

subplot(1,3,3); hold on
    title('but it''s ugly so who cares')
    for i = 1:3
        AlphaLine([1,5], [1,i], colors(i,:))
    end
    xlim([0 6]); ylim([0 4])
    leg_text = ColorText({'1', '2', '3'}, colors);
    text(5,4, leg_text, 'VerticalAlignment', 'top',...
        'HorizontalAlignment','right')
    yticks([0:4])

%% 5. GetAxisPosition
% Best way to ensure the ColorText legend is always in the same place
data = randn(1000,1);

clf;
set(gcf, 'Units', 'inches', 'Position', [3 3 8 2.5])
subplot(1,3,1); hold on
    title('A plot 1 unit wide')
    Swarm(.5, data, [1 .6 .6])
    set(gca, 'XLim', [0 1], 'YLim', [-5 5]) % Limits must be set before GetAxisPosition is called
    [x,y] = GetAxisPosition(gca, 5, 95);
    text(x,y, ColorText('Legend', [1 .6 .6]), 'VerticalAlignment', 'top', 'HorizontalAlignment', 'left')

subplot(1,3,2); hold on
    title('A plot 10 units wide')
    for i = .5:1:9.5
        Swarm(i, data, [1 .6 .6])
    end
set(gca, 'XLim', [-2 12], 'YLim', [-5 5]) % Limits must be set before GetAxisPosition is called
[x,y] = GetAxisPosition(gca, 5, 95);
text(x,y, ColorText('Legend', [1 .6 .6]), 'VerticalAlignment', 'top', 'HorizontalAlignment', 'left')

subplot(1,3,3); hold on
    title('legend in the bottom right')
    for i = .5:1:9.5
        Swarm(i, data, [1 .6 .6])
    end
set(gca, 'XLim', [-2 12], 'YLim', [-5 5]) % Limits must be set before GetAxisPosition is called
[x,y] = GetAxisPosition(gca, 95, 5);
text(x,y, ColorText('Legend', [1 .6 .6]), 'VerticalAlignment', 'bottom', 'HorizontalAlignment', 'right')

##### SOURCE END #####
-->
</body>
</html>
